<!DOCTYPE html>
<html>
	<head>
		<title>SharpMod</title>
		<meta charset="utf-8" />
		<meta content="width=device-width" initial-scale="1.0 " name="viewport" />
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
		<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-beta.3/css/select2.min.css" rel="stylesheet" type="text/css" />
		<link href="stylesheets/site.css" rel="stylesheet" type="text/css" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>
	</head>
	<body>
		<div class="body-content container">
			<div class="row" id="chatContent" style="display: none">
				<div class="alert alert-warning" id="loadingEmotesMessage" role="alert">
					<strong>Emoticons are currently loading.</strong>
				</div>

				<div class="alert alert-warning" id="successEmotesMessage" role="alert" style="display: none">
					<button aria-label="Close" class="close" data-dismiss="alert" type="button">
						<span aria-hidden="true">&times;</span>
					</button>
					<strong>Emoticons have been successfully loaded.</strong>
				</div>

				<div class="alert alert-warning" id="loadingBadgesMessage" role="alert">
					<strong>Badges are currently loading.</strong>
				</div>

				<div class="alert alert-warning" id="successBadgesMessage" role="alert" style="display: none">
					<button aria-label="Close" class="close" data-dismiss="alert" type="button">
						<span aria-hidden="true">&times;</span>
					</button>
					<strong>Badges have been successfully loaded.</strong>
				</div>

				<ul class="nav nav-tabs" data-bind="foreach: channels">
					<!-- li goes here -->
					<!--<li class="active" role="presentation">
						<a data-toggle="tab" href=" NAME OF CHANNEL HERE "></a>
					</li>-->
					<li class="active" role="presentation">
						<a data-bind="attr:{href:channelName}" data-toggle="tab"></a>
					</li>
				</ul>

				<div class="tab-content" data-bind="foreach: channels">
					<!-- channel messages go here. with knockout -->
					<div class="active tab-pane" data-bind="attr:{id:channelName}">
						<div data-bind="foreach: messages">
							<div class="comment panel panel-default">
								<div class="panel-heading">
									<h3 class="panel-title" data-bind="style:{color: color}">
										parseAttributes(data.attributes) <strong data-bind="text:name"></strong>
									</h3>
								</div>
								<div class="panel-body">
									parseMessage(data.message, data.emote_set)
								</div>
							</div>
						</div>
					</div>
				</div>

				<nav class="navbar navbar-default navbar-fixed-bottom">
					<div class="container">
						<div class="navbar-form navbar-left">
							<form class="form-group" id="chatForm">
								<input class="form-control" id="chatMessage" placeholder="Send a message" style="width: 280px" type="text" />
							</form>
						</div>
					</div>
				</nav>
			</div>
		</div>

		<div aria-hidden="true" class="fade in modal" data-backdrop="static" data-keyboard="false" id="loginModal" role="dialog">
			<div class="modal-dialog modal-sm">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Login to SharpMod</h4>
					</div>
					<form action="/" id="loginForm" method="POST">
						<div class="modal-body">
							<div class="row">
								<div class="col-md-12">
									<div class="form-group">
										<label for="username">Username</label>
										<input class="form-control" id="username" name="username" required type="text" />
									</div>

									<div class="form-group">
										<label for="password">Password</label>
										<input class="form-control" id="password" name="password" required type="password" />
									</div>

									<div class="form-group">
										<label for="channel">Channel</label>
										<div>
											<select class="form-control" data-tags="true" id="channel" name="channel" style="width: 100%"></select>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<button class="btn btn-info pull-left" id="getAuthButton" type="button">Get auth token</button>
							<button class="btn btn-success" type="submit">Login</button>
						</div>
					</form>
				</div>
			</div>
		</div>

		<div aria-hidden="true" aria-labelledby="loginModalLabel" class="fade in modal" id="authTokenModal" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Generate oauth token</h4>
					</div>
					<div class="modal-body">
						<div class="row">
							<div class="col-md-12">
								<div class="embed-responsive embed-responsive-4by3">
									<iframe src="http://www.twitchapps.com/tmi/"></iframe>
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<div class="text-left">
							In order to log in, you must generate an oauth token. This is required. Please use the "Connect with Twitch" button above to generate your token. Copy that token and paste it into the password field on the previous form.
						</div>
					</div>
				</div>
			</div>
		</div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.13.1/jquery.validate.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0-beta.3/js/select2.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.4/socket.io.min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.2/underscore-min.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js" type="text/javascript"></script>
		<script src="javascripts/index.js" type="text/javascript"></script>
	</body>
</html>